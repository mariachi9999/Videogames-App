{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\PI\\\\PI-SoyHenry\\\\client\\\\src\\\\components\\\\VideogameCreation\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport SearchBar from \"../SearchBar\";\nimport styles from \"./VideogameCreation.module.css\";\nimport { addVideogame } from \"../../store/actions\";\nimport Footer from \"../Footer/index.js\";\nimport image from \"../../images/videogame.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function validate(state) {\n  let errors = {};\n\n  if (!state.name) {\n    errors.name = 'Name is required';\n  } else if (!/\\S{2,}/.test(state.username)) {\n    errors.name = 'Name must have at least 2 letters';\n  }\n\n  if (!state.description) {\n    errors.description = 'Description is required';\n  } else if (!/\\S{5,}/.test(state.description)) {\n    errors.description = 'Description must have at least 5 letters';\n  }\n\n  if (!state.platforms) {\n    errors.platforms = 'Platforms is required';\n  } else if (!/\\S/.test(state.platforms)) {\n    errors.platforms = 'Platforms is invalid';\n  }\n\n  return errors;\n}\n;\n\nconst VideogameCreation = props => {\n  _s();\n\n  const genresOpt = useSelector(store => store.genres);\n  const platformsOpt = useSelector(store => store.platforms);\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    name: \"\",\n    description: \"\",\n    released: \"\",\n    rating: \"\",\n    platforms: \"\",\n    genres: \"\"\n  });\n  const [errors, setErrors] = useState({\n    name: '',\n    description: '',\n    platforms: ''\n  });\n  setErrors(validate({ ...state,\n    [e.target.name]: e.target.value\n  }));\n\n  const handleChange = event => {\n    setState({ ...state,\n      [event.target.id]: event.target.value\n    });\n  };\n\n  const handleClick = event => {\n    if (event.target.attributes[1].value === \"platform\") {\n      let newPlatforms = \"\";\n      state.platforms.includes(`${event.target.value}`) === true ? newPlatforms = state.platforms : newPlatforms = state.platforms.concat(`${event.target.value},`);\n      setState({ ...state,\n        platforms: newPlatforms\n      });\n    }\n\n    if (event.target.attributes[1].value === \"genre\") {\n      console.log(\"entro a platform\");\n      let newGenres = \"\";\n      state.genres.includes(`${event.target.value}`) === true ? newGenres = state.genres : newGenres = state.genres.concat(`${event.target.value},`);\n      setState({ ...state,\n        genres: newGenres\n      });\n    }\n  };\n\n  const handleCross = event => {\n    if (event.target.attributes[1].value === \"platform\") {\n      let newPlatforms = state.platforms.split(\",\").filter(p => p !== event.target.value).join();\n      setState({ ...state,\n        platforms: newPlatforms\n      });\n    }\n\n    if (event.target.attributes[1].value === \"genre\") {\n      let newGenres = state.genres.split(\",\").filter(g => g !== event.target.value).join();\n      setState({ ...state,\n        genres: newGenres\n      });\n    }\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    dispatch(addVideogame(state));\n    alert(\"Videogame creado!\");\n    setState({\n      name: \"\",\n      description: \"\",\n      released: \"\",\n      rating: \"\",\n      platforms: \"\",\n      genres: \"\"\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: styles.containerPpal,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: styles.containerHeader,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles.addGame,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/videogames`,\n          className: styles.navLink,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: styles.boton,\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles.title,\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Videogames!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles.searchbar,\n        children: /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: styles.containerCuerpoPpal,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.imageContainer,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.image,\n          src: image,\n          alt: \"alternatetext\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.formContainer,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: styles.formu,\n          onSubmit: e => handleSubmit(e),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.campos,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: styles.label,\n              htmlFor: \"name\",\n              children: [\"Title:\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"name\",\n              autoComplete: \"off\",\n              value: state.name,\n              onChange: e => handleChange(e),\n              className: styles.inputTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"danger\",\n              children: errors.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: styles.label,\n              htmlFor: \"description\",\n              children: [\"Description:\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              type: \"text\",\n              id: \"description\",\n              rows: \"8\",\n              cols: \"50\",\n              autoComplete: \"off\",\n              value: state.description,\n              onChange: e => handleChange(e),\n              className: styles.inputDescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: styles.label,\n              htmlFor: \"released\",\n              children: [\"Released:\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"released\",\n              autoComplete: \"off\",\n              value: state.released,\n              onChange: e => handleChange(e),\n              className: styles.inputTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: styles.label,\n              htmlFor: \"rating\",\n              children: [\"Rating:\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              placeholder: \"5.0\",\n              step: \"0.1\",\n              min: \"0\",\n              max: \"5\",\n              id: \"rating\",\n              autoComplete: \"off\",\n              value: state.rating,\n              onChange: e => handleChange(e),\n              className: styles.inputRating\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: styles.label,\n              htmlFor: \"platforms\",\n              children: [\"Platforms:\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"platforms\",\n              value: state.platforms,\n              size: \"3\",\n              children: platformsOpt && platformsOpt.map(platform => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: platform,\n                onClick: handleClick,\n                name: \"platform\",\n                children: platform\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filterButton\",\n              children: state.platforms && state.platforms.split(\",\").filter(p => p.length > 0).map(p => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"filterButton\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"filterButton\",\n                  children: p\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"filterButton\",\n                  onClick: handleCross,\n                  name: \"platform\",\n                  value: p,\n                  children: \"X\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: styles.label,\n              htmlFor: \"genres\",\n              children: [\"Genres:\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"genres\",\n              value: state.genres,\n              size: \"3\",\n              children: genresOpt && genresOpt.map(genre => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: genre,\n                onClick: handleClick,\n                name: \"genre\",\n                children: genre\n              }, genre.index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filterButton\",\n              children: state.genres && state.genres.split(\",\").filter(g => g.length > 0).map(g => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"filterButton\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"filterButton\",\n                  children: g\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"filterButton\",\n                  onClick: handleCross,\n                  name: \"genre\",\n                  value: g,\n                  children: \"X\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 25\n                }, this)]\n              }, g.index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: styles.boton,\n              type: \"submit\",\n              children: \"Add!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: styles.containerFooter,\n      children: /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n};\n\n_s(VideogameCreation, \"Oa6Zro7X+VIUerE65GEhNY/aNSE=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = VideogameCreation;\nexport default VideogameCreation;\n\nvar _c;\n\n$RefreshReg$(_c, \"VideogameCreation\");","map":{"version":3,"sources":["C:/Users/Usuario/Desktop/PI/PI-SoyHenry/client/src/components/VideogameCreation/index.js"],"names":["React","useState","useSelector","useDispatch","Link","SearchBar","styles","addVideogame","Footer","image","validate","state","errors","name","test","username","description","platforms","VideogameCreation","props","genresOpt","store","genres","platformsOpt","dispatch","setState","released","rating","setErrors","e","target","value","handleChange","event","id","handleClick","attributes","newPlatforms","includes","concat","console","log","newGenres","handleCross","split","filter","p","join","g","handleSubmit","preventDefault","alert","containerPpal","containerHeader","addGame","navLink","boton","title","searchbar","containerCuerpoPpal","imageContainer","formContainer","formu","campos","label","inputTitle","inputDescription","inputRating","map","platform","length","genre","index","containerFooter"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchBar from \"../SearchBar\";\r\nimport styles from \"./VideogameCreation.module.css\";\r\nimport { addVideogame } from \"../../store/actions\";\r\nimport Footer from \"../Footer/index.js\";\r\nimport image from \"../../images/videogame.png\";\r\n\r\nexport function validate(state) {\r\n  let errors = {};\r\n  if (!state.name) {\r\n    errors.name = 'Name is required';\r\n  } else if (!/\\S{2,}/.test(state.username)) {\r\n    errors.name = 'Name must have at least 2 letters';\r\n  }\r\n\r\n  if (!state.description) {\r\n      errors.description = 'Description is required';\r\n    } else if (!/\\S{5,}/.test(state.description)) {\r\n      errors.description = 'Description must have at least 5 letters';\r\n  }\r\n\r\n  if (!state.platforms) {\r\n      errors.platforms = 'Platforms is required';\r\n    } else if (!/\\S/.test(state.platforms)) {\r\n      errors.platforms = 'Platforms is invalid';\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\n\r\nconst VideogameCreation = (props) => {\r\n  const genresOpt = useSelector((store) => store.genres);\r\n  const platformsOpt = useSelector((store) => store.platforms);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    released: \"\",\r\n    rating: \"\",\r\n    platforms: \"\",\r\n    genres: \"\",\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    name:'',\r\n    description:'',\r\n    platforms:''\r\n  });\r\n\r\n  setErrors(validate({\r\n    ...state,\r\n    [e.target.name]: e.target.value\r\n  }));\r\n\r\n  const handleChange = (event) => {\r\n    setState({ ...state, [event.target.id]: event.target.value });\r\n  };\r\n\r\n  const handleClick = (event) => {\r\n    if (event.target.attributes[1].value === \"platform\") {\r\n      let newPlatforms = \"\";\r\n      state.platforms.includes(`${event.target.value}`) === true\r\n        ? (newPlatforms = state.platforms)\r\n        : (newPlatforms = state.platforms.concat(`${event.target.value},`));\r\n      setState({ ...state, platforms: newPlatforms });\r\n    }\r\n\r\n    if (event.target.attributes[1].value === \"genre\") {\r\n      console.log(\"entro a platform\");\r\n      let newGenres = \"\";\r\n      state.genres.includes(`${event.target.value}`) === true\r\n        ? (newGenres = state.genres)\r\n        : (newGenres = state.genres.concat(`${event.target.value},`));\r\n      setState({ ...state, genres: newGenres });\r\n    }\r\n  };\r\n\r\n  const handleCross = (event) => {\r\n    if (event.target.attributes[1].value === \"platform\") {\r\n      let newPlatforms = state.platforms\r\n        .split(\",\")\r\n        .filter((p) => p !== event.target.value)\r\n        .join();\r\n      setState({ ...state, platforms: newPlatforms });\r\n    }\r\n    if (event.target.attributes[1].value === \"genre\") {\r\n      let newGenres = state.genres\r\n        .split(\",\")\r\n        .filter((g) => g !== event.target.value)\r\n        .join();\r\n      setState({ ...state, genres: newGenres });\r\n    }\r\n  };\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    dispatch(addVideogame(state));\r\n    alert(\"Videogame creado!\");\r\n    setState({\r\n      name: \"\",\r\n      description: \"\",\r\n      released: \"\",\r\n      rating: \"\",\r\n      platforms: \"\",\r\n      genres: \"\",\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div id={styles.containerPpal}>\r\n      {/* Cabecera*/}\r\n      <div id={styles.containerHeader}>\r\n        <div id={styles.addGame}>\r\n          <Link to={`/videogames`} className={styles.navLink}>\r\n            <button id={styles.boton}>Home</button>\r\n          </Link>\r\n        </div>\r\n        <div id={styles.title}>\r\n          <h1>Videogames!</h1>\r\n        </div>\r\n        <div id={styles.searchbar}>\r\n          <SearchBar />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Formulario */}\r\n      <div id={styles.containerCuerpoPpal}>\r\n        <div className={styles.imageContainer}>\r\n          <img className={styles.image} src={image} alt=\"alternatetext\" />\r\n        </div>\r\n        <div className={styles.formContainer}>\r\n          <form className={styles.formu} onSubmit={(e) => handleSubmit(e)}>\r\n            <div className={styles.campos}>\r\n              <label className={styles.label} htmlFor=\"name\">\r\n                Title:{\" \"}\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"name\"\r\n                autoComplete=\"off\"\r\n                value={state.name}\r\n                onChange={(e) => handleChange(e)}\r\n                className={styles.inputTitle}\r\n              />\r\n              <p className=\"danger\">{errors.username}</p>\r\n              <label className={styles.label} htmlFor=\"description\">\r\n                Description:{\" \"}\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                id=\"description\"\r\n                rows=\"8\"\r\n                cols=\"50\"\r\n                autoComplete=\"off\"\r\n                value={state.description}\r\n                onChange={(e) => handleChange(e)}\r\n                className={styles.inputDescription}\r\n              />\r\n              <label className={styles.label} htmlFor=\"released\">\r\n                Released:{\" \"}\r\n              </label>\r\n              <input\r\n                type=\"date\"\r\n                id=\"released\"\r\n                autoComplete=\"off\"\r\n                value={state.released}\r\n                onChange={(e) => handleChange(e)}\r\n                className={styles.inputTitle}\r\n              />\r\n              <label className={styles.label} htmlFor=\"rating\">\r\n                Rating:{\" \"}\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                placeholder=\"5.0\"\r\n                step=\"0.1\"\r\n                min=\"0\"\r\n                max=\"5\"\r\n                id=\"rating\"\r\n                autoComplete=\"off\"\r\n                value={state.rating}\r\n                onChange={(e) => handleChange(e)}\r\n                className={styles.inputRating}\r\n              />\r\n              <label className={styles.label} htmlFor=\"platforms\">\r\n                Platforms:{\" \"}\r\n              </label>\r\n              <select id=\"platforms\" value={state.platforms} size=\"3\">\r\n                {platformsOpt &&\r\n                  platformsOpt.map((platform) => (\r\n                    <option\r\n                      value={platform}\r\n                      onClick={handleClick}\r\n                      name=\"platform\"\r\n                    >\r\n                      {platform}\r\n                    </option>\r\n                  ))}\r\n              </select>\r\n              <div className=\"filterButton\">\r\n                {state.platforms &&\r\n                  state.platforms\r\n                    .split(\",\")\r\n                    .filter((p) => p.length > 0)\r\n                    .map((p) => (\r\n                      <span className=\"filterButton\">\r\n                        <span className=\"filterButton\">{p}</span>\r\n                        <button\r\n                          className=\"filterButton\"\r\n                          onClick={handleCross}\r\n                          name=\"platform\"\r\n                          value={p}\r\n                        >\r\n                          X\r\n                        </button>\r\n                      </span>\r\n                    ))}\r\n              </div>\r\n              <label className={styles.label} htmlFor=\"genres\">\r\n                Genres:{\" \"}\r\n              </label>\r\n              <select id=\"genres\" value={state.genres} size=\"3\">\r\n                {genresOpt &&\r\n                  genresOpt.map((genre) => (\r\n                    <option value={genre} onClick={handleClick} name=\"genre\" key={genre.index}>\r\n                      {genre}\r\n                    </option>\r\n                  ))}\r\n              </select>\r\n              <div className=\"filterButton\">\r\n                {state.genres &&\r\n                  state.genres\r\n                    .split(\",\")\r\n                    .filter((g) => g.length > 0)\r\n                    .map((g) => (\r\n                      <span className=\"filterButton\" key={g.index}>\r\n                        <span className=\"filterButton\">{g}</span>\r\n                        <button\r\n                          className=\"filterButton\"\r\n                          onClick={handleCross}\r\n                          name=\"genre\"\r\n                          value={g}\r\n                        >\r\n                          X\r\n                        </button>\r\n                      </span>\r\n                    ))}\r\n              </div>\r\n              <button id={styles.boton} type=\"submit\">\r\n                Add!\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <div id={styles.containerFooter}>\r\n        <Footer />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideogameCreation;\r\n"]},"metadata":{},"sourceType":"module"}