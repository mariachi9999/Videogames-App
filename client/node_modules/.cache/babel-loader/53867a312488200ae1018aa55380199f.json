{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\PI\\\\PI-SoyHenry\\\\client\\\\src\\\\components\\\\Home\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { getVideogames } from \"../../store/actions\";\nimport SearchBar from \"../SearchBar/index\";\nimport styles from \"./Home.module.css\";\nimport PagingBox from \"../PagingBox\";\nimport FilterBox from \"../FilterBox\";\nimport OrderBox from \"../OrderBox/OrderBox\";\nimport Footer from \"../Footer/index.js\";\nimport Loading from \"../Loading/index.js\";\nimport VideogameNotFinded from \"../VideogameNoEncontrado/index.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  useEffect(() => dispatch(getVideogames()), []);\n  const videogamesSearched = useSelector(store => store.gamesSearched);\n  const videogamesLoaded = useSelector(store => store.gamesLoaded);\n  let videogames = undefined; //Según exista o no un search activo, los videogames a mostrar serán los iniciales o los de la búsqueda.\n\n  if (window.location.search.includes(\"name\")) {\n    videogames = videogamesSearched;\n  } else {\n    videogames = videogamesLoaded;\n  } //Filtro de genero\n\n\n  const genre = useSelector(store => store.filteredGenres);\n\n  if (genre.length > 0) {\n    var filtGamesGenre = [];\n    videogames.forEach(g => {\n      for (let i = 0; i < genre.length; i++) {\n        if (g.genres && g.genres.includes(genre[i])) {\n          filtGamesGenre.push(g);\n        }\n      }\n    });\n\n    if (filtGamesGenre) {\n      videogames = filtGamesGenre;\n    }\n  } //Filtro de source\n\n\n  const source = useSelector(store => store.filteredSources);\n\n  if (source.length > 0) {\n    var filtGamesSource = [];\n    videogames.forEach(g => {\n      for (let i = 0; i <= source.length - 1; i++) {\n        if (g.source && g.source === source[i]) {\n          filtGamesSource.push(g);\n        }\n      }\n    });\n\n    if (filtGamesSource.length > 0) {\n      videogames = filtGamesSource;\n    } else {\n      videogames = [{\n        name: \"Videogames no encontrados\"\n      }];\n    }\n  } //Filtros de ordenamiento\n\n\n  const alphabetical = useSelector(store => store.alphabetical);\n  const rating = useSelector(store => store.rating);\n\n  if (videogames) {\n    ///Filtro de ordenamiento alfabético\n    if (alphabetical) {\n      var gamesLowerCase = [];\n      var gamesLower = [...videogames];\n      gamesLower.forEach(g => {\n        g.name = g.name.toLowerCase();\n        gamesLowerCase.push(g);\n      });\n      var gamesLowerSort = gamesLowerCase.sort(function (a, b) {\n        if (a.name > b.name) {\n          return 1;\n        }\n\n        if (a.name < b.name) {\n          return -1;\n        }\n\n        return 0;\n      });\n\n      if (alphabetical === \"descendent\") {\n        gamesLowerSort.reverse();\n      } ///// Acá agarro ya el array ordenado y le pongo mayúscula\n\n\n      if (gamesLowerSort) {\n        var gamesSortedOK = [];\n        var gamesSorted = [...gamesLowerSort];\n        gamesSorted.forEach(g => {\n          let nombre = g.name.split(\"\");\n          nombre[0] = nombre[0].toUpperCase();\n          let nombreCorregido = nombre.join(\"\");\n          g.name = nombreCorregido;\n          gamesSortedOK.push(g);\n        });\n      }\n\n      if (gamesSortedOK) {\n        videogames = gamesSortedOK;\n      }\n    } //Filtro de ordenamiento por rating\n\n\n    if (rating) {\n      var gamesRatingSort = videogames.sort(function (a, b) {\n        if (a.rating > b.rating) {\n          return 1;\n        }\n\n        if (a.rating < b.rating) {\n          return -1;\n        }\n\n        return 0;\n      });\n\n      if (rating === \"descendent\") {\n        gamesRatingSort.reverse();\n      }\n\n      if (gamesRatingSort) {\n        videogames = gamesRatingSort;\n      }\n    }\n  } //Paginado\n\n\n  const videogamesPerPage = 9;\n  const pagesQty = Math.ceil(videogames.length / videogamesPerPage);\n  const [actualPage, setActualPage] = useState(1);\n\n  const setPage = value => setActualPage(value);\n\n  const endIndex = videogamesPerPage * actualPage;\n  const initIndex = endIndex - videogamesPerPage;\n  useEffect(() => setPaginado(1), [genre]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: videogames.length === 0 ? /*#__PURE__*/_jsxDEV(Loading, {\n      \"data-testid\": \"loadingComponent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      id: styles.containerPpal,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles.containerHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: styles.addGame,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/videogame`,\n            className: styles.navLink,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              id: styles.boton,\n              children: \"Add a Videogame!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: styles.title,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/videogames`,\n            className: styles.navLink,\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Videogames!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: styles.searchbar,\n          children: /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles.containerCuerpoPpal,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: styles.containerConJuegos,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: styles.filtros,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: styles.filterBox,\n              children: /*#__PURE__*/_jsxDEV(FilterBox, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: styles.orderBox,\n              children: /*#__PURE__*/_jsxDEV(OrderBox, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: styles.videogamesBox,\n            children: [videogames[0].name === \"Videogames no encontrados\" ? /*#__PURE__*/_jsxDEV(VideogameNotFinded, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              id: styles.cardsContainer,\n              children: videogames.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.cards,\n                children: videogames && videogames.slice(initIndex, endIndex).map(games => /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/videogames/${games.id}`,\n                  className: styles.navLink,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.games,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: styles.gameTitle,\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: styles.colorTitle,\n                        children: games.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 197,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: styles.gameImage,\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: games.image,\n                        alt: \"alternatetext\",\n                        className: styles.cardImage\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 202,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: styles.gameGenres,\n                      children: games.genres && games.genres.map(g => /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: styles.generoSpan,\n                        children: g\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 211,\n                        columnNumber: 39\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 33\n                    }, this)]\n                  }, games.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 29\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.loading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: styles.paginado,\n              children: /*#__PURE__*/_jsxDEV(PagingBox, {\n                pagesQty: pagesQty,\n                setPage: setPage,\n                actualPage: actualPage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles.containerFooter,\n        children: /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"22DaDFVq5vG45Agm+5fOC9GPx+A=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/Usuario/Desktop/PI/PI-SoyHenry/client/src/components/Home/index.js"],"names":["React","useEffect","useState","useSelector","useDispatch","Link","getVideogames","SearchBar","styles","PagingBox","FilterBox","OrderBox","Footer","Loading","VideogameNotFinded","Home","props","dispatch","videogamesSearched","store","gamesSearched","videogamesLoaded","gamesLoaded","videogames","undefined","window","location","search","includes","genre","filteredGenres","length","filtGamesGenre","forEach","g","i","genres","push","source","filteredSources","filtGamesSource","name","alphabetical","rating","gamesLowerCase","gamesLower","toLowerCase","gamesLowerSort","sort","a","b","reverse","gamesSortedOK","gamesSorted","nombre","split","toUpperCase","nombreCorregido","join","gamesRatingSort","videogamesPerPage","pagesQty","Math","ceil","actualPage","setActualPage","setPage","value","endIndex","initIndex","setPaginado","containerPpal","containerHeader","addGame","navLink","boton","title","searchbar","containerCuerpoPpal","containerConJuegos","filtros","filterBox","orderBox","videogamesBox","cardsContainer","cards","slice","map","games","id","gameTitle","colorTitle","gameImage","image","cardImage","gameGenres","generoSpan","loading","paginado","containerFooter"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getVideogames } from \"../../store/actions\";\r\n\r\nimport SearchBar from \"../SearchBar/index\";\r\nimport styles from \"./Home.module.css\";\r\n\r\nimport PagingBox from \"../PagingBox\";\r\nimport FilterBox from \"../FilterBox\";\r\nimport OrderBox from \"../OrderBox/OrderBox\";\r\nimport Footer from \"../Footer/index.js\";\r\nimport Loading from \"../Loading/index.js\";\r\nimport VideogameNotFinded from \"../VideogameNoEncontrado/index.js\";\r\n\r\nconst Home = (props) => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => dispatch(getVideogames()), []);\r\n\r\n  const videogamesSearched = useSelector((store) => store.gamesSearched);\r\n  const videogamesLoaded = useSelector((store) => store.gamesLoaded);\r\n\r\n  let videogames = undefined;\r\n\r\n  //Según exista o no un search activo, los videogames a mostrar serán los iniciales o los de la búsqueda.\r\n  if (window.location.search.includes(\"name\")) {\r\n    videogames = videogamesSearched;\r\n  } else {\r\n    videogames = videogamesLoaded;\r\n  }\r\n\r\n  //Filtro de genero\r\n  const genre = useSelector((store) => store.filteredGenres);\r\n\r\n  if (genre.length > 0) {\r\n    var filtGamesGenre = [];\r\n    videogames.forEach((g) => {\r\n      for (let i = 0; i < genre.length; i++) {\r\n        if (g.genres && g.genres.includes(genre[i])) {\r\n          filtGamesGenre.push(g);\r\n        }\r\n      }\r\n    });\r\n\r\n    if (filtGamesGenre) {\r\n      videogames = filtGamesGenre;\r\n    }\r\n  }\r\n\r\n  //Filtro de source\r\n  const source = useSelector((store) => store.filteredSources);\r\n  if (source.length > 0) {\r\n    var filtGamesSource = [];\r\n    videogames.forEach((g) => {\r\n      for (let i = 0; i <= source.length - 1; i++) {\r\n        if (g.source && g.source === source[i]) {\r\n          filtGamesSource.push(g);\r\n        }\r\n      }\r\n    });\r\n\r\n    if (filtGamesSource.length > 0) {\r\n      videogames = filtGamesSource;\r\n    } else {\r\n      videogames = [{ name: \"Videogames no encontrados\" }];\r\n    }\r\n  }\r\n\r\n  //Filtros de ordenamiento\r\n  const alphabetical = useSelector((store) => store.alphabetical);\r\n  const rating = useSelector((store) => store.rating);\r\n\r\n  if (videogames) {\r\n    ///Filtro de ordenamiento alfabético\r\n    if (alphabetical) {\r\n      var gamesLowerCase = [];\r\n      var gamesLower = [...videogames];\r\n      gamesLower.forEach((g) => {\r\n        g.name = g.name.toLowerCase();\r\n        gamesLowerCase.push(g);\r\n      });\r\n      var gamesLowerSort = gamesLowerCase.sort(function (a, b) {\r\n        if (a.name > b.name) {\r\n          return 1;\r\n        }\r\n        if (a.name < b.name) {\r\n          return -1;\r\n        }\r\n        return 0;\r\n      });\r\n\r\n      if (alphabetical === \"descendent\") {\r\n        gamesLowerSort.reverse();\r\n      }\r\n\r\n      ///// Acá agarro ya el array ordenado y le pongo mayúscula\r\n      if (gamesLowerSort) {\r\n        var gamesSortedOK = [];\r\n        var gamesSorted = [...gamesLowerSort];\r\n        gamesSorted.forEach((g) => {\r\n          let nombre = g.name.split(\"\");\r\n          nombre[0] = nombre[0].toUpperCase();\r\n          let nombreCorregido = nombre.join(\"\");\r\n          g.name = nombreCorregido;\r\n          gamesSortedOK.push(g);\r\n        });\r\n      }\r\n\r\n      if (gamesSortedOK) {\r\n        videogames = gamesSortedOK;\r\n      }\r\n    }\r\n\r\n    //Filtro de ordenamiento por rating\r\n    if (rating) {\r\n      var gamesRatingSort = videogames.sort(function (a, b) {\r\n        if (a.rating > b.rating) {\r\n          return 1;\r\n        }\r\n        if (a.rating < b.rating) {\r\n          return -1;\r\n        }\r\n        return 0;\r\n      });\r\n\r\n      if (rating === \"descendent\") {\r\n        gamesRatingSort.reverse();\r\n      }\r\n\r\n      if (gamesRatingSort) {\r\n        videogames = gamesRatingSort;\r\n      }\r\n    }\r\n  }\r\n\r\n  //Paginado\r\n  const videogamesPerPage = 9;\r\n  const pagesQty = Math.ceil(videogames.length / videogamesPerPage);\r\n  const [actualPage, setActualPage] = useState(1);\r\n  const setPage = (value) => setActualPage(value);\r\n  const endIndex = videogamesPerPage * actualPage;\r\n  const initIndex = endIndex - videogamesPerPage;\r\n\r\n  useEffect(() => setPaginado(1), [genre]);\r\n\r\n  return (\r\n    <div>\r\n      {videogames.length === 0 ? (\r\n        <Loading data-testid=\"loadingComponent\"></Loading>\r\n      ) : (\r\n        <div id={styles.containerPpal}>\r\n          {/* Cabecera*/}\r\n          <div id={styles.containerHeader}>\r\n            <div id={styles.addGame}>\r\n              <Link to={`/videogame`} className={styles.navLink}>\r\n                <button id={styles.boton}>Add a Videogame!</button>\r\n              </Link>\r\n            </div>\r\n            <div id={styles.title}>\r\n              <Link to={`/videogames`} className={styles.navLink}>\r\n                <h1>Videogames!</h1>\r\n              </Link>\r\n            </div>\r\n            <div id={styles.searchbar}>\r\n              <SearchBar />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Cuerpo */}\r\n          <div id={styles.containerCuerpoPpal}>\r\n            <div id={styles.containerConJuegos}>\r\n              <div id={styles.filtros}>\r\n                <div id={styles.filterBox}>\r\n                  <FilterBox />\r\n                </div>\r\n                <div id={styles.orderBox}>\r\n                  <OrderBox />\r\n                </div>\r\n              </div>\r\n\r\n              <div id={styles.videogamesBox}>\r\n                {videogames[0].name === \"Videogames no encontrados\" ? (\r\n                  <VideogameNotFinded />\r\n                ) : (\r\n                  <div id={styles.cardsContainer}>\r\n                    {videogames.length > 0 ? (\r\n                      <div className={styles.cards}>\r\n                        {videogames &&\r\n                          videogames.slice(initIndex, endIndex).map((games) => (\r\n                            <Link\r\n                              to={`/videogames/${games.id}`}\r\n                              className={styles.navLink}\r\n                            >\r\n                              <div key={games.id} className={styles.games}>\r\n                                <div className={styles.gameTitle}>\r\n                                  <span className={styles.colorTitle}>\r\n                                    {games.name}\r\n                                  </span>\r\n                                </div>\r\n                                <div className={styles.gameImage}>\r\n                                  <img\r\n                                    src={games.image}\r\n                                    alt=\"alternatetext\"\r\n                                    className={styles.cardImage}\r\n                                  />\r\n                                </div>\r\n                                <div className={styles.gameGenres}>\r\n                                  {games.genres &&\r\n                                    games.genres.map((g) => (\r\n                                      <span className={styles.generoSpan}>\r\n                                        {g}\r\n                                      </span>\r\n                                    ))}\r\n                                </div>\r\n                              </div>\r\n                            </Link>\r\n                          ))}\r\n                      </div>\r\n                    ) : (\r\n                      <div className={styles.loading}></div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                <div id={styles.paginado}>\r\n                  <PagingBox pagesQty={pagesQty} setPage={setPage} actualPage={actualPage}/>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div id={styles.containerFooter}>\r\n            <Footer />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}