{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\PI\\\\PI-SoyHenry\\\\client\\\\src\\\\components\\\\Home\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { getVideogames } from \"../../store/actions\";\nimport SearchBar from \"../SearchBar/index\";\nimport styles from \"./Home.module.css\";\nimport PagingBox from \"../PagingBox\";\nimport FilterBox from \"../FilterBox\";\nimport OrderBox from \"../OrderBox/OrderBox\";\nimport Footer from \"../Footer/index.js\";\nimport Loading from \"../Loading/index.js\";\nimport VideogameNotFinded from \"../VideogameNoEncontrado/index.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = props => {\n  _s();\n\n  console.log(window.location);\n  const dispatch = useDispatch();\n  useEffect(() => dispatch(getVideogames()), []);\n  const videogamesSearched = useSelector(store => store.gamesSearched);\n  const videogamesLoaded = useSelector(store => store.gamesLoaded);\n  let videogames = undefined;\n\n  if (window.location.search.includes(\"name\")) {\n    videogames = videogamesSearched;\n  } else {\n    videogames = videogamesLoaded;\n  } //Filtro de genero\n\n\n  var genre = useSelector(store => store.filteredGenres);\n\n  if (genre.length > 0) {\n    var genresToFilter = genre.split(\",\");\n    var filtGamesGenre = [];\n    videogames.forEach(g => {\n      for (let i = 0; i < genresToFilter.length; i++) {\n        if (g.genres && g.genres.includes(genresToFilter[i])) {\n          filtGamesGenre.push(g);\n        }\n      }\n    });\n  }\n\n  if (filtGamesGenre) {\n    videogames = filtGamesGenre;\n  } //Filtro de source\n\n\n  var source = useSelector(store => store.filteredSources);\n\n  if (source.length > 0) {\n    var sourceToFilter = source.split(\",\");\n    var filtGamesSource = [];\n    videogames.forEach(g => {\n      for (let i = 0; i < sourceToFilter.length - 1; i++) {\n        if (g.source && g.source === sourceToFilter[i]) {\n          filtGamesSource.push(g);\n        }\n      }\n    });\n  }\n\n  if (filtGamesSource) {\n    videogames = filtGamesSource;\n  } //Filtros de ordenamiento\n\n\n  const alphabetical = useSelector(store => store.alphabetical);\n  const rating = useSelector(store => store.rating);\n\n  if (videogames) {\n    ///Filtro de ordenamiento alfabético\n    if (alphabetical) {\n      var gamesLowerCase = [];\n      var gamesLower = [...videogames];\n      gamesLower.forEach(g => {\n        g.name = g.name.toLowerCase();\n        gamesLowerCase.push(g);\n      });\n      var gamesLowerSort = gamesLowerCase.sort(function (a, b) {\n        if (a.name > b.name) {\n          return 1;\n        }\n\n        if (a.name < b.name) {\n          return -1;\n        }\n\n        return 0;\n      });\n\n      if (alphabetical === \"descendent\") {\n        gamesLowerSort.reverse();\n      } ///// Acá agarro ya el array ordenado y le pongo mayúscula\n\n\n      if (gamesLowerSort) {\n        var gamesSortedOK = [];\n        var gamesSorted = [...gamesLowerSort];\n        gamesSorted.forEach(g => {\n          let nombre = g.name.split(\"\");\n          nombre[0] = nombre[0].toUpperCase();\n          let nombreCorregido = nombre.join(\"\");\n          g.name = nombreCorregido;\n          gamesSortedOK.push(g);\n        });\n      }\n\n      if (gamesSortedOK) {\n        videogames = gamesSortedOK;\n      }\n    } //Filtro de ordenamiento por rating\n\n\n    if (rating) {\n      var gamesRatingSort = videogames.sort(function (a, b) {\n        if (a.rating > b.rating) {\n          return 1;\n        }\n\n        if (a.rating < b.rating) {\n          return -1;\n        }\n\n        return 0;\n      });\n\n      if (rating === \"descendent\") {\n        gamesRatingSort.reverse();\n      }\n\n      if (gamesRatingSort) {\n        videogames = gamesRatingSort;\n      }\n    }\n  } //Paginado\n\n\n  const videogamesPerPage = 9;\n  const pages = Math.ceil(videogames.length / videogamesPerPage);\n  const [paginado, setPaginado] = useState(1);\n\n  const page = value => setPaginado(value);\n\n  const endIndex = videogamesPerPage * paginado;\n  const initIndex = endIndex - videogamesPerPage;\n  useEffect(() => setPaginado(1), [genre]);\n  console.log(videogames);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: videogames.length === 0 ? /*#__PURE__*/_jsxDEV(Loading, {\n      \"data-testid\": \"loadingComponent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      id: styles.containerPpal,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles.containerHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: styles.addGame,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/videogame`,\n            className: styles.navLink,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              id: styles.boton,\n              children: \"Add a Videogame!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: styles.title,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/videogames`,\n            className: styles.navLink,\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Videogames!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: styles.searchbar,\n          children: /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles.containerCuerpoPpal,\n        children: videogames[0].name === \"Videogames no encontrados\" ? /*#__PURE__*/_jsxDEV(VideogameNotFinded, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          id: styles.containerConJuegos,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: styles.filtros,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: styles.filterBox,\n              children: /*#__PURE__*/_jsxDEV(FilterBox, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: styles.orderBox,\n              children: /*#__PURE__*/_jsxDEV(OrderBox, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: styles.videogamesBox,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: styles.cardsContainer,\n              children: videogames.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.cards,\n                children: videogames && videogames.slice(initIndex, endIndex).map(games => /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/videogames/${games.id}`,\n                  className: styles.navLink,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.games,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: styles.gameTitle,\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: styles.colorTitle,\n                        children: games.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 201,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: styles.gameImage,\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: games.image,\n                        alt: \"alternatetext\",\n                        className: styles.cardImage\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 206,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: styles.gameGenres,\n                      children: games.genres && games.genres.map(g => /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: styles.generoSpan,\n                        children: g\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 215,\n                        columnNumber: 39\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 33\n                    }, this)]\n                  }, games.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 29\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.loading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: styles.paginado,\n              children: /*#__PURE__*/_jsxDEV(PagingBox, {\n                pages: pages,\n                page: page\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles.containerFooter,\n        children: /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"O5LIQP9nPYiiLCLyi0lb35TT3oQ=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/Usuario/Desktop/PI/PI-SoyHenry/client/src/components/Home/index.js"],"names":["React","useEffect","useState","useSelector","useDispatch","Link","getVideogames","SearchBar","styles","PagingBox","FilterBox","OrderBox","Footer","Loading","VideogameNotFinded","Home","props","console","log","window","location","dispatch","videogamesSearched","store","gamesSearched","videogamesLoaded","gamesLoaded","videogames","undefined","search","includes","genre","filteredGenres","length","genresToFilter","split","filtGamesGenre","forEach","g","i","genres","push","source","filteredSources","sourceToFilter","filtGamesSource","alphabetical","rating","gamesLowerCase","gamesLower","name","toLowerCase","gamesLowerSort","sort","a","b","reverse","gamesSortedOK","gamesSorted","nombre","toUpperCase","nombreCorregido","join","gamesRatingSort","videogamesPerPage","pages","Math","ceil","paginado","setPaginado","page","value","endIndex","initIndex","containerPpal","containerHeader","addGame","navLink","boton","title","searchbar","containerCuerpoPpal","containerConJuegos","filtros","filterBox","orderBox","videogamesBox","cardsContainer","cards","slice","map","games","id","gameTitle","colorTitle","gameImage","image","cardImage","gameGenres","generoSpan","loading","containerFooter"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getVideogames } from \"../../store/actions\";\r\n\r\nimport SearchBar from \"../SearchBar/index\";\r\nimport styles from \"./Home.module.css\";\r\n\r\nimport PagingBox from \"../PagingBox\";\r\nimport FilterBox from \"../FilterBox\";\r\nimport OrderBox from \"../OrderBox/OrderBox\";\r\nimport Footer from \"../Footer/index.js\";\r\nimport Loading from \"../Loading/index.js\";\r\nimport VideogameNotFinded from \"../VideogameNoEncontrado/index.js\";\r\n\r\nconst Home = (props) => {\r\n  console.log(window.location);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => dispatch(getVideogames()), []);\r\n\r\n  const videogamesSearched = useSelector((store) => store.gamesSearched);\r\n  const videogamesLoaded = useSelector((store) => store.gamesLoaded);\r\n\r\n  let videogames = undefined;\r\n\r\n  if (window.location.search.includes(\"name\")) {\r\n    videogames = videogamesSearched;\r\n  } else {\r\n    videogames = videogamesLoaded;\r\n  }\r\n\r\n  //Filtro de genero\r\n  var genre = useSelector((store) => store.filteredGenres);\r\n\r\n  if (genre.length > 0) {\r\n    var genresToFilter = genre.split(\",\");\r\n    var filtGamesGenre = [];\r\n    videogames.forEach((g) => {\r\n      for (let i = 0; i < genresToFilter.length; i++) {\r\n        if (g.genres && g.genres.includes(genresToFilter[i])) {\r\n          filtGamesGenre.push(g);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  if (filtGamesGenre) {\r\n    videogames = filtGamesGenre;\r\n  }\r\n\r\n  //Filtro de source\r\n  var source = useSelector((store) => store.filteredSources);\r\n  if (source.length > 0) {\r\n    var sourceToFilter = source.split(\",\");\r\n    var filtGamesSource = [];\r\n    videogames.forEach((g) => {\r\n      for (let i = 0; i < sourceToFilter.length - 1; i++) {\r\n        if (g.source && g.source === sourceToFilter[i]) {\r\n          filtGamesSource.push(g);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  if (filtGamesSource) {\r\n    videogames = filtGamesSource;\r\n  }\r\n\r\n  //Filtros de ordenamiento\r\n  const alphabetical = useSelector((store) => store.alphabetical);\r\n  const rating = useSelector((store) => store.rating);\r\n\r\n  if (videogames) {\r\n    ///Filtro de ordenamiento alfabético\r\n    if (alphabetical) {\r\n      var gamesLowerCase = [];\r\n      var gamesLower = [...videogames];\r\n      gamesLower.forEach((g) => {\r\n        g.name = g.name.toLowerCase();\r\n        gamesLowerCase.push(g);\r\n      });\r\n      var gamesLowerSort = gamesLowerCase.sort(function (a, b) {\r\n        if (a.name > b.name) {\r\n          return 1;\r\n        }\r\n        if (a.name < b.name) {\r\n          return -1;\r\n        }\r\n        return 0;\r\n      });\r\n\r\n      if (alphabetical === \"descendent\") {\r\n        gamesLowerSort.reverse();\r\n      }\r\n\r\n      ///// Acá agarro ya el array ordenado y le pongo mayúscula\r\n      if (gamesLowerSort) {\r\n        var gamesSortedOK = [];\r\n        var gamesSorted = [...gamesLowerSort];\r\n        gamesSorted.forEach((g) => {\r\n          let nombre = g.name.split(\"\");\r\n          nombre[0] = nombre[0].toUpperCase();\r\n          let nombreCorregido = nombre.join(\"\");\r\n          g.name = nombreCorregido;\r\n          gamesSortedOK.push(g);\r\n        });\r\n      }\r\n\r\n      if (gamesSortedOK) {\r\n        videogames = gamesSortedOK;\r\n      }\r\n    }\r\n\r\n    //Filtro de ordenamiento por rating\r\n    if (rating) {\r\n      var gamesRatingSort = videogames.sort(function (a, b) {\r\n        if (a.rating > b.rating) {\r\n          return 1;\r\n        }\r\n        if (a.rating < b.rating) {\r\n          return -1;\r\n        }\r\n        return 0;\r\n      });\r\n\r\n      if (rating === \"descendent\") {\r\n        gamesRatingSort.reverse();\r\n      }\r\n\r\n      if (gamesRatingSort) {\r\n        videogames = gamesRatingSort;\r\n      }\r\n    }\r\n  }\r\n\r\n  //Paginado\r\n  const videogamesPerPage = 9;\r\n  const pages = Math.ceil(videogames.length / videogamesPerPage);\r\n  const [paginado, setPaginado] = useState(1);\r\n  const page = (value) => setPaginado(value);\r\n  const endIndex = videogamesPerPage * paginado;\r\n  const initIndex = endIndex - videogamesPerPage;\r\n\r\n  useEffect(() => setPaginado(1), [genre]);\r\n\r\n  console.log(videogames);\r\n\r\n  return (\r\n    <div>\r\n      {videogames.length === 0 ? (\r\n        <Loading data-testid=\"loadingComponent\"></Loading>\r\n      ) : (\r\n        <div id={styles.containerPpal}>\r\n          {/* Cabecera*/}\r\n          <div id={styles.containerHeader}>\r\n            <div id={styles.addGame}>\r\n              <Link to={`/videogame`} className={styles.navLink}>\r\n                <button id={styles.boton}>Add a Videogame!</button>\r\n              </Link>\r\n            </div>\r\n            <div id={styles.title}>\r\n              <Link to={`/videogames`} className={styles.navLink}>\r\n                <h1>Videogames!</h1>\r\n              </Link>\r\n            </div>\r\n            <div id={styles.searchbar}>\r\n              <SearchBar />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Cuerpo */}\r\n          <div id={styles.containerCuerpoPpal}>\r\n            {videogames[0].name === \"Videogames no encontrados\" ? (\r\n              <VideogameNotFinded />\r\n            ) : (\r\n              <div id={styles.containerConJuegos}>\r\n                <div id={styles.filtros}>\r\n                  <div id={styles.filterBox}>\r\n                    <FilterBox />\r\n                  </div>\r\n                  <div id={styles.orderBox}>\r\n                    <OrderBox />\r\n                  </div>\r\n                </div>\r\n\r\n                <div id={styles.videogamesBox}>\r\n                  <div id={styles.cardsContainer}>\r\n                    {videogames.length > 0 ? (\r\n                      <div className={styles.cards}>\r\n                        {videogames &&\r\n                          videogames.slice(initIndex, endIndex).map((games) => (\r\n                            <Link\r\n                              to={`/videogames/${games.id}`}\r\n                              className={styles.navLink}\r\n                            >\r\n                              <div key={games.id} className={styles.games}>\r\n                                <div className={styles.gameTitle}>\r\n                                  <span className={styles.colorTitle}>\r\n                                    {games.name}\r\n                                  </span>\r\n                                </div>\r\n                                <div className={styles.gameImage}>\r\n                                  <img\r\n                                    src={games.image}\r\n                                    alt=\"alternatetext\"\r\n                                    className={styles.cardImage}\r\n                                  />\r\n                                </div>\r\n                                <div className={styles.gameGenres}>\r\n                                  {games.genres &&\r\n                                    games.genres.map((g) => (\r\n                                      <span className={styles.generoSpan}>\r\n                                        {g}\r\n                                      </span>\r\n                                    ))}\r\n                                </div>\r\n                              </div>\r\n                            </Link>\r\n                          ))}\r\n                      </div>\r\n                    ) : (\r\n                      <div className={styles.loading}></div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div id={styles.paginado}>\r\n                    <PagingBox pages={pages} page={page} />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div id={styles.containerFooter}>\r\n            <Footer />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}